{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{bj1x:function(l,n,t){\"use strict\";t.r(n);var e=t(\"CcnG\"),u=t(\"mrSG\"),i=t(\"CjQN\"),r=t(\"ZZ/e\"),o=t(\"AFX/\"),a=function(){function l(l,n,t,e,u,i,r,o){this.route=l,this.actionSheetCtrl=n,this.router=t,this.toastCtrl=e,this.modalController=u,this.loadingCtrl=i,this.travelAppService=r,this.socialSharing=o,this.provincesVisited=\"\",this.visitedProvincesArray=[]}return l.prototype.presentActionSheet=function(){return u.b(this,void 0,void 0,(function(){var l=this;return u.d(this,(function(n){switch(n.label){case 0:return[4,this.actionSheetCtrl.create({header:\"Options\",buttons:[{text:\"Edit Trip\",icon:\"create\",handler:function(){l.editTrip()}},{text:\"Delete Trip\",icon:\"trash\",handler:function(){l.deleteTrip()}},{text:\"Cancel\",icon:\"close\",role:\"cancel\",handler:function(){}}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}}))}))},l.prototype.editTrip=function(){this.router.navigate([\"edittrip\"],{state:{trip:this.data}})},l.prototype.deleteTrip=function(){var l=this;this.loadingCtrl.create({message:\"Please wait\"}).then((function(n){l.deleteProvince(l.data.province),n.present(),l.travelAppService.deleteTrip(l.data.tripuid).then((function(){l.updateVisitedProvinces(),n.dismiss(),l.router.navigateByUrl(\"/tabs/profile\")})).catch((function(t){n.dismiss(),l.presentToast(t)}))}))},l.prototype.updateVisitedProvinces=function(){this.visitedProvincesArray!=[]&&this.travelAppService.updateVisitedProvinces(this.provincesVisited,this.visitedProvincesArray).then((function(){console.log(\"Provinces updated\")})).catch((function(l){console.log(l)}))},l.prototype.deleteProvince=function(l){for(var n=0;n<this.visitedProvincesArray.length;n++)this.visitedProvincesArray[n]==l&&this.visitedProvincesArray.splice(n,1)},l.prototype.ngOnInit=function(){var l=this;this.route.queryParams.subscribe((function(n){l.router.getCurrentNavigation().extras.state&&(l.data=l.router.getCurrentNavigation().extras.state.trip)})),this.travelAppService.fetchVisitedProvicesArray().then((function(n){l.visitedProvincesArray=n,l.provincesVisited=\"\"+l.visitedProvincesArray.length}))},l.prototype.openModal=function(){this.router.navigate([\"imagedetails\"],{state:{title:this.data.eventTitle,image:this.data.photo}})},l.prototype.shareTrip=function(){var l=this.compilemsg();this.socialSharing.shareViaFacebook(l,null,null)},l.prototype.compilemsg=function(){return\"Join me in my #Project81PH goal \\n \\n\"+this.data.photo},l.prototype.presentToast=function(l){return u.b(this,void 0,void 0,(function(){return u.d(this,(function(n){switch(n.label){case 0:return[4,this.toastCtrl.create({message:l,duration:6e3,color:\"dark\"})];case 1:return n.sent().present(),[2]}}))}))},l}(),s=function(){return function(){}}(),c=t(\"pMnS\"),p=t(\"oBZk\"),b=t(\"ZYCi\"),d=e.sb({encapsulation:0,styles:[[\"\"]],data:{}});function h(l){return e.Mb(0,[(l()(),e.ub(0,0,null,null,17,\"ion-header\",[],null,null,null,p.T,p.l)),e.tb(1,49152,null,0,r.E,[e.h,e.k,e.z],null,null),(l()(),e.ub(2,0,null,0,15,\"ion-toolbar\",[],null,null,null,p.pb,p.H)),e.tb(3,49152,null,0,r.Fb,[e.h,e.k,e.z],null,null),(l()(),e.ub(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"],[\"style\",\"margin-left: 5px\"]],null,null,null,p.L,p.d)),e.tb(5,49152,null,0,r.o,[e.h,e.k,e.z],null,null),(l()(),e.ub(6,0,null,0,2,\"ion-back-button\",[[\"color\",\"primary\"],[\"defaultHref\",\"/profile\"]],null,[[null,\"click\"]],(function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==e.Gb(l,8).onClick(t)&&u),u}),p.J,p.b)),e.tb(7,49152,null,0,r.j,[e.h,e.k,e.z],{color:[0,\"color\"],defaultHref:[1,\"defaultHref\"]},null),e.tb(8,16384,null,0,r.k,[[2,r.lb],r.Lb],{defaultHref:[0,\"defaultHref\"]},null),(l()(),e.ub(9,0,null,0,2,\"ion-title\",[],null,null,null,p.ob,p.G)),e.tb(10,49152,null,0,r.Db,[e.h,e.k,e.z],null,null),(l()(),e.Lb(-1,0,[\" View Trip \"])),(l()(),e.ub(12,0,null,0,5,\"ion-buttons\",[[\"slot\",\"end\"],[\"style\",\"margin-left: 5px\"]],null,null,null,p.L,p.d)),e.tb(13,49152,null,0,r.o,[e.h,e.k,e.z],null,null),(l()(),e.ub(14,0,null,0,3,\"ion-button\",[[\"color\",\"primary\"]],null,[[null,\"click\"]],(function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.presentActionSheet()&&e),e}),p.K,p.c)),e.tb(15,49152,null,0,r.n,[e.h,e.k,e.z],{color:[0,\"color\"]},null),(l()(),e.ub(16,0,null,0,1,\"ion-icon\",[[\"color\",\"primary\"],[\"name\",\"options\"]],null,null,null,p.U,p.m)),e.tb(17,49152,null,0,r.F,[e.h,e.k,e.z],{color:[0,\"color\"],name:[1,\"name\"]},null),(l()(),e.ub(18,0,null,null,20,\"ion-content\",[],null,null,null,p.Q,p.i)),e.tb(19,49152,null,0,r.x,[e.h,e.k,e.z],null,null),(l()(),e.ub(20,0,null,0,1,\"div\",[[\"style\",\"height: 300px; width: 100vw;\"]],null,null,null,null,null)),(l()(),e.ub(21,0,null,null,0,\"img\",[[\"height\",\"100%\"],[\"style\",\"object-fit: cover;\"],[\"width\",\"100%\"]],[[8,\"src\",4]],[[null,\"click\"]],(function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.openModal()&&e),e}),null,null)),(l()(),e.ub(22,0,null,0,1,\"div\",[[\"style\",\"margin-top: 20px; margin-left: 20px; font-weight: 500; font-size: 20px;\"]],null,null,null,null,null)),(l()(),e.Lb(23,null,[\"\",\"\"])),(l()(),e.ub(24,0,null,0,4,\"div\",[[\"style\",\"width: 100%; margin-left: 20px; margin-top: 10px;\"]],null,null,null,null,null)),(l()(),e.ub(25,0,null,null,1,\"div\",[[\"style\",\"width: 25px; float: left;\"]],null,null,null,null,null)),(l()(),e.ub(26,0,null,null,0,\"img\",[[\"height\",\"25px\"],[\"src\",\"../../assets/icon/pin.png\"],[\"style\",\"width: 30px;\"]],null,null,null,null,null)),(l()(),e.ub(27,0,null,null,1,\"div\",[[\"style\",\"float: left; padding-left: 5px; font-size: 15px; margin-top: 2px;\"]],null,null,null,null,null)),(l()(),e.Lb(28,null,[\" \",\", \",\" \"])),(l()(),e.ub(29,0,null,0,0,\"br\",[],null,null,null,null,null)),(l()(),e.ub(30,0,null,0,4,\"div\",[[\"style\",\"width: 100%; margin-left: 20px; margin-top: 15px;\"]],null,null,null,null,null)),(l()(),e.ub(31,0,null,null,1,\"div\",[[\"style\",\"width: 25px; float: left;\"]],null,null,null,null,null)),(l()(),e.ub(32,0,null,null,0,\"img\",[[\"height\",\"18px\"],[\"src\",\"../../assets/icon/appointment-2.png\"],[\"style\",\"width: 20px;\"]],null,null,null,null,null)),(l()(),e.ub(33,0,null,null,1,\"div\",[[\"style\",\"float: left; padding-left: 5px; font-size: 14px; margin-top: 2px;\"]],null,null,null,null,null)),(l()(),e.Lb(34,null,[\" \",\" - \",\" \"])),(l()(),e.ub(35,0,null,0,0,\"br\",[],null,null,null,null,null)),(l()(),e.ub(36,0,null,0,1,\"div\",[[\"style\",\"margin-left: 20px; font-size: 14px; margin-top: 25px;\"]],null,null,null,null,null)),(l()(),e.Lb(37,null,[\"\",\"\"])),(l()(),e.ub(38,0,null,0,0,\"br\",[],null,null,null,null,null))],(function(l,n){l(n,7,0,\"primary\",\"/profile\"),l(n,8,0,\"/profile\"),l(n,15,0,\"primary\"),l(n,17,0,\"primary\",\"options\")}),(function(l,n){var t=n.component;l(n,21,0,e.yb(1,\"\",t.data.photo,\"\")),l(n,23,0,t.data.eventTitle),l(n,28,0,t.data.city,t.data.province),l(n,34,0,t.data.fromDate2,t.data.toDate2),l(n,37,0,t.data.aboutTrip)}))}function f(l){return e.Mb(0,[(l()(),e.ub(0,0,null,null,1,\"app-tripdetails\",[],null,null,null,h,d)),e.tb(1,114688,null,0,a,[b.a,r.a,b.n,r.Sb,r.Kb,r.Jb,o.a,i.a],null,null)],(function(l,n){l(n,1,0)}),null)}var v=e.qb(\"app-tripdetails\",a,f,{},{},[]),g=t(\"Ip0R\"),m=t(\"gIcY\");t.d(n,\"TripdetailsPageModuleNgFactory\",(function(){return y}));var y=e.rb(s,[],(function(l){return e.Db([e.Eb(512,e.j,e.cb,[[8,[c.a,v]],[3,e.j],e.x]),e.Eb(4608,g.l,g.k,[e.u,[2,g.t]]),e.Eb(4608,m.i,m.i,[]),e.Eb(4608,r.c,r.c,[e.z,e.g]),e.Eb(4608,r.Kb,r.Kb,[r.c,e.j,e.q]),e.Eb(4608,r.Ob,r.Ob,[r.c,e.j,e.q]),e.Eb(1073742336,g.b,g.b,[]),e.Eb(1073742336,m.h,m.h,[]),e.Eb(1073742336,m.c,m.c,[]),e.Eb(1073742336,r.Hb,r.Hb,[]),e.Eb(1073742336,b.p,b.p,[[2,b.u],[2,b.n]]),e.Eb(1073742336,s,s,[]),e.Eb(1024,b.l,(function(){return[[{path:\"\",component:a}]]}),[])])}))}}]);","extractedComments":[]}