{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{DLVS:function(l,n,u){\"use strict\";u.r(n);var t=u(\"8Y7J\"),e=u(\"mrSG\"),s=u(\"AFX/\"),r=u(\"ZZ/e\"),o=u(\"iqUP\");class i{constructor(l,n,u,t){this.router=l,this.travelAppSerice=n,this.toastCtrl=u,this.loadingCtrl=t,this.currentpassword=\"\",this.newpassword=\"\",this.newpasswordconfirmation=\"\",this.passwordfromdb=\"\",o.database().ref(\"/users\").child(o.auth().currentUser.uid).once(\"value\",l=>{this.passwordfromdb=l.val().password})}ngOnInit(){}updatepassword(){this.passwordfromdb!=this.currentpassword?this.presentToast(\"Incorrect user password\"):\"\"==this.newpassword||this.newpassword.length<3?this.presentToast(\"New password length should be atleast 6 characters\"):this.newpasswordconfirmation!=this.newpassword?this.presentToast(\"Password confirmation doesnt match\"):this.loadingCtrl.create({message:\"Please wait\"}).then(l=>{l.present(),this.travelAppSerice.updateUserPassword(this.newpassword),o.database().ref(\"/users\").child(o.auth().currentUser.uid).update({password:this.newpassword}).then(()=>{}).catch(l=>{}),setTimeout(()=>{l.dismiss(),this.presentToast(\"Password updated successfully. Please sign in again\"),o.auth().signOut().then(()=>{this.router.navigateByUrl(\"/login\")})},4e3)})}presentToast(l){return e.a(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:l,duration:2e3,color:\"dark\"})).present()}))}}class a{}var d=u(\"pMnS\"),b=u(\"oBZk\"),p=u(\"s7LF\"),g=u(\"iInd\"),h=u(\"SVse\"),c=t.qb({encapsulation:0,styles:[[\"\"]],data:{}});function w(l){return t.Kb(0,[(l()(),t.sb(0,0,null,null,11,\"ion-header\",[],null,null,null,b.T,b.l)),t.rb(1,49152,null,0,r.E,[t.h,t.k,t.x],null,null),(l()(),t.sb(2,0,null,0,9,\"ion-toolbar\",[],null,null,null,b.pb,b.H)),t.rb(3,49152,null,0,r.Fb,[t.h,t.k,t.x],null,null),(l()(),t.sb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"],[\"style\",\"margin-left: 5px\"]],null,null,null,b.L,b.d)),t.rb(5,49152,null,0,r.o,[t.h,t.k,t.x],null,null),(l()(),t.sb(6,0,null,0,2,\"ion-back-button\",[[\"color\",\"primary\"],[\"defaultHref\",\"/more\"]],null,[[null,\"click\"]],(function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==t.Eb(l,8).onClick(u)&&e),e}),b.J,b.b)),t.rb(7,49152,null,0,r.j,[t.h,t.k,t.x],{color:[0,\"color\"],defaultHref:[1,\"defaultHref\"]},null),t.rb(8,16384,null,0,r.k,[[2,r.lb],r.Lb],{defaultHref:[0,\"defaultHref\"]},null),(l()(),t.sb(9,0,null,0,2,\"ion-title\",[],null,null,null,b.ob,b.G)),t.rb(10,49152,null,0,r.Db,[t.h,t.k,t.x],null,null),(l()(),t.Jb(-1,0,[\"Change Password\"])),(l()(),t.sb(12,0,null,null,51,\"ion-content\",[[\"padding\",\"\"]],null,null,null,b.Q,b.i)),t.rb(13,49152,null,0,r.x,[t.h,t.k,t.x],null,null),t.rb(14,16384,null,0,r.f,[t.k],null,null),(l()(),t.sb(15,0,null,0,1,\"div\",[[\"style\",\"font-size: 15px; margin-top: 20px;  font-family: montserat; font-weight: 500; opacity: 0.8;\"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[\"Current password\"])),(l()(),t.sb(17,0,null,0,10,\"div\",[[\"style\",\"border-radius: 10px; margin-top: 5px; height: 50px; background-color: white; border: 1.5px solid #cecece;\"]],null,null,null,null,null)),(l()(),t.sb(18,0,null,null,9,\"div\",[[\"style\",\"height: 100%\"]],null,null,null,null,null)),(l()(),t.sb(19,0,null,null,7,\"div\",[[\"style\",\"float: left; height: 100%; width: 77vw;\"]],null,null,null,null,null)),(l()(),t.sb(20,0,null,null,6,\"ion-input\",[[\"style\",\"height: 100%; margin-left: 10px;\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(l,n,u){var e=!0,s=l.component;return\"ionBlur\"===n&&(e=!1!==t.Eb(l,21)._handleBlurEvent(u.target)&&e),\"ionChange\"===n&&(e=!1!==t.Eb(l,21)._handleInputEvent(u.target)&&e),\"ngModelChange\"===n&&(e=!1!==(s.currentpassword=u)&&e),e}),b.V,b.n)),t.rb(21,16384,null,0,r.Rb,[t.k],null,null),t.Gb(1024,null,p.d,(function(l){return[l]}),[r.Rb]),t.rb(23,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),t.Gb(2048,null,p.e,null,[p.g]),t.rb(25,16384,null,0,p.f,[[4,p.e]],null,null),t.rb(26,49152,null,0,r.J,[t.h,t.k,t.x],{type:[0,\"type\"]},null),(l()(),t.sb(27,0,null,null,0,\"div\",[[\"style\",\"float: left; height: 100%; width: 10vw;\"]],null,null,null,null,null)),(l()(),t.sb(28,0,null,0,1,\"div\",[[\"style\",\"font-size: 15px; margin-top: 20px;  font-family: montserat; font-weight: 500; opacity: 0.8;\"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[\"New password\"])),(l()(),t.sb(30,0,null,0,10,\"div\",[[\"style\",\"border-radius: 10px; margin-top: 5px; height: 50px; background-color: white; border: 1.5px solid #cecece;\"]],null,null,null,null,null)),(l()(),t.sb(31,0,null,null,9,\"div\",[[\"style\",\"height: 100%\"]],null,null,null,null,null)),(l()(),t.sb(32,0,null,null,7,\"div\",[[\"style\",\"float: left; height: 100%; width: 77vw;\"]],null,null,null,null,null)),(l()(),t.sb(33,0,null,null,6,\"ion-input\",[[\"style\",\"height: 100%; margin-left: 10px;\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(l,n,u){var e=!0,s=l.component;return\"ionBlur\"===n&&(e=!1!==t.Eb(l,34)._handleBlurEvent(u.target)&&e),\"ionChange\"===n&&(e=!1!==t.Eb(l,34)._handleInputEvent(u.target)&&e),\"ngModelChange\"===n&&(e=!1!==(s.newpassword=u)&&e),e}),b.V,b.n)),t.rb(34,16384,null,0,r.Rb,[t.k],null,null),t.Gb(1024,null,p.d,(function(l){return[l]}),[r.Rb]),t.rb(36,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),t.Gb(2048,null,p.e,null,[p.g]),t.rb(38,16384,null,0,p.f,[[4,p.e]],null,null),t.rb(39,49152,null,0,r.J,[t.h,t.k,t.x],{type:[0,\"type\"]},null),(l()(),t.sb(40,0,null,null,0,\"div\",[[\"style\",\"float: left; height: 100%; width: 10vw;\"]],null,null,null,null,null)),(l()(),t.sb(41,0,null,0,1,\"div\",[[\"style\",\"font-size: 15px; margin-top: 20px;  font-family: montserat; font-weight: 500; opacity: 0.8;\"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[\"Re-enter new password\"])),(l()(),t.sb(43,0,null,0,10,\"div\",[[\"style\",\"border-radius: 10px; margin-top: 5px; height: 50px; background-color: white; border: 1.5px solid #cecece;\"]],null,null,null,null,null)),(l()(),t.sb(44,0,null,null,9,\"div\",[[\"style\",\"height: 100%\"]],null,null,null,null,null)),(l()(),t.sb(45,0,null,null,7,\"div\",[[\"style\",\"float: left; height: 100%; width: 77vw;\"]],null,null,null,null,null)),(l()(),t.sb(46,0,null,null,6,\"ion-input\",[[\"style\",\"height: 100%; margin-left: 10px;\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(l,n,u){var e=!0,s=l.component;return\"ionBlur\"===n&&(e=!1!==t.Eb(l,47)._handleBlurEvent(u.target)&&e),\"ionChange\"===n&&(e=!1!==t.Eb(l,47)._handleInputEvent(u.target)&&e),\"ngModelChange\"===n&&(e=!1!==(s.newpasswordconfirmation=u)&&e),e}),b.V,b.n)),t.rb(47,16384,null,0,r.Rb,[t.k],null,null),t.Gb(1024,null,p.d,(function(l){return[l]}),[r.Rb]),t.rb(49,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),t.Gb(2048,null,p.e,null,[p.g]),t.rb(51,16384,null,0,p.f,[[4,p.e]],null,null),t.rb(52,49152,null,0,r.J,[t.h,t.k,t.x],{type:[0,\"type\"]},null),(l()(),t.sb(53,0,null,null,0,\"div\",[[\"style\",\"float: left; height: 100%; width: 10vw;\"]],null,null,null,null,null)),(l()(),t.sb(54,0,null,0,3,\"div\",[[\"style\",\"height: 48px;\\twidth: 90vw;\\tborder-radius: 24px; margin-top: 20px; background: #FF7C0B;\"]],null,[[null,\"click\"]],(function(l,n,u){var t=!0;return\"click\"===n&&(t=!1!==l.component.updatepassword()&&t),t}),null,null)),(l()(),t.sb(55,0,null,null,2,\"p\",[[\"align\",\"center\"],[\"style\",\"margin: 0px; font-size: 18px; color: white; font-weight: 600; padding-top: 15px; height: 100%;\"]],null,null,null,null,null)),(l()(),t.sb(56,0,null,null,1,\"span\",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[\"Update Password\"])),(l()(),t.sb(58,0,null,0,5,\"p\",[[\"align\",\"center\"],[\"class\",\"tna\"],[\"routerDirection\",\"forward\"],[\"routerLink\",\"/forgot\"],[\"style\",\"margin-top: 20px\"]],null,[[null,\"click\"]],(function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==t.Eb(l,59).onClick()&&e),\"click\"===n&&(e=!1!==t.Eb(l,60).onClick(u)&&e),e}),null,null)),t.rb(59,16384,null,0,g.o,[g.n,g.a,[8,null],t.B,t.k],{routerLink:[0,\"routerLink\"]},null),t.rb(60,737280,null,0,r.Pb,[h.g,r.Lb,t.k,g.n,[2,g.o]],{routerDirection:[0,\"routerDirection\"]},null),(l()(),t.Jb(-1,null,[\"Forgot password?\"])),(l()(),t.sb(62,0,null,null,1,\"b\",[[\"style\",\"font-size: 15px; color: #FF6800; margin-left: 5px\"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[\"Reset here\"]))],(function(l,n){var u=n.component;l(n,7,0,\"primary\",\"/more\"),l(n,8,0,\"/more\"),l(n,23,0,u.currentpassword),l(n,26,0,\"password\"),l(n,36,0,u.newpassword),l(n,39,0,\"password\"),l(n,49,0,u.newpasswordconfirmation),l(n,52,0,\"password\"),l(n,59,0,\"/forgot\"),l(n,60,0,\"forward\")}),(function(l,n){l(n,20,0,t.Eb(n,25).ngClassUntouched,t.Eb(n,25).ngClassTouched,t.Eb(n,25).ngClassPristine,t.Eb(n,25).ngClassDirty,t.Eb(n,25).ngClassValid,t.Eb(n,25).ngClassInvalid,t.Eb(n,25).ngClassPending),l(n,33,0,t.Eb(n,38).ngClassUntouched,t.Eb(n,38).ngClassTouched,t.Eb(n,38).ngClassPristine,t.Eb(n,38).ngClassDirty,t.Eb(n,38).ngClassValid,t.Eb(n,38).ngClassInvalid,t.Eb(n,38).ngClassPending),l(n,46,0,t.Eb(n,51).ngClassUntouched,t.Eb(n,51).ngClassTouched,t.Eb(n,51).ngClassPristine,t.Eb(n,51).ngClassDirty,t.Eb(n,51).ngClassValid,t.Eb(n,51).ngClassInvalid,t.Eb(n,51).ngClassPending)}))}function f(l){return t.Kb(0,[(l()(),t.sb(0,0,null,null,1,\"app-changepassword\",[],null,null,null,w,c)),t.rb(1,114688,null,0,i,[g.n,s.a,r.Sb,r.Jb],null,null)],(function(l,n){l(n,1,0)}),null)}var C=t.ob(\"app-changepassword\",i,f,{},{},[]);u.d(n,\"ChangepasswordPageModuleNgFactory\",(function(){return v}));var v=t.pb(a,[],(function(l){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[d.a,C]],[3,t.j],t.v]),t.Cb(4608,h.l,h.k,[t.s,[2,h.t]]),t.Cb(4608,p.i,p.i,[]),t.Cb(4608,r.c,r.c,[t.x,t.g]),t.Cb(4608,r.Kb,r.Kb,[r.c,t.j,t.p]),t.Cb(4608,r.Ob,r.Ob,[r.c,t.j,t.p]),t.Cb(1073742336,h.b,h.b,[]),t.Cb(1073742336,p.h,p.h,[]),t.Cb(1073742336,p.c,p.c,[]),t.Cb(1073742336,r.Hb,r.Hb,[]),t.Cb(1073742336,g.p,g.p,[[2,g.u],[2,g.n]]),t.Cb(1073742336,a,a,[]),t.Cb(1024,g.l,(function(){return[[{path:\"\",component:i}]]}),[])])}))}}]);","extractedComments":[]}