{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{\"f+ep\":function(l,n,t){\"use strict\";t.r(n);var u=t(\"8Y7J\"),e=t(\"mrSG\"),i=t(\"ZZ/e\"),s=t(\"AFX/\"),o=t(\"iqUP\");class r{constructor(l,n,t,u,e,i){this.router=l,this.events=n,this.travelAppService=t,this.toastCtrl=u,this.loadingController=e,this.storage=i,this.email=\"\",this.password=\"\",this.menuHidden=!0}ngOnInit(){this.events.publish(\"justloggedin\",\"yes\")}presentToast(l){return e.a(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:l,duration:2e3,color:\"dark\"})).present()}))}fbLogin(){this.loadingController.create({message:\"Please wait\"}).then(l=>{l.present(),this.travelAppService.facebookLogin().then(n=>{console.log(n),this.checkIfUserExits(n.uid).then(t=>{switch(t){case!0:this.router.navigateByUrl(\"/tabs\"),l.dismiss();break;case!1:this.travelAppService.generateInitialUserDetails(n.displayName,n.email,n.photoURL).then(()=>{this.router.navigateByUrl(\"/tabs\"),l.dismiss()}).catch(n=>{this.presentToast(n),l.dismiss()})}}).catch(l=>{this.presentToast(l),console.log(l)})}).catch(n=>{this.presentToast(n),l.dismiss()})})}googleLogin(){this.loadingController.create({message:\"Please wait\"}).then(l=>{l.present(),this.travelAppService.googleLogin().then(n=>{this.checkIfUserExits(n.uid).then(t=>{switch(t){case!0:this.router.navigateByUrl(\"/tabs\"),l.dismiss();break;case!1:this.travelAppService.generateInitialUserDetails(n.displayName,n.email,n.photoURL).then(()=>{this.router.navigateByUrl(\"/tabs\"),l.dismiss()}).catch(n=>{this.presentToast(n),l.dismiss()})}}).catch(l=>{this.presentToast(l),console.log(l)})}).catch(n=>{this.presentToast(n),l.dismiss()})})}appleLogin(){this.loadingController.create({message:\"Please wait\"}).then(l=>{l.present(),this.travelAppService.appleLogin().then(n=>{this.checkIfUserExits(n.uid).then(t=>{switch(t){case!0:this.router.navigateByUrl(\"/tabs\"),l.dismiss();break;case!1:this.travelAppService.generateInitialUserDetails(n.displayName,n.email,n.photoURL).then(()=>{this.router.navigateByUrl(\"/tabs\"),l.dismiss()}).catch(n=>{this.presentToast(n),l.dismiss()})}}).catch(l=>{this.presentToast(l),console.log(l)})}).catch(n=>{this.presentToast(n),l.dismiss()})})}checkIfUserExits(l){return new Promise((n,t)=>{o.database().ref(\"/users\").child(l).once(\"value\",l=>{var t=null!==l.val();n(t),this.storage.set(\"order\",\"latest\")}).catch(l=>{t(l)})})}login(){\"\"==this.email||this.email.length<3||!this.email.includes(\"@\")||!this.email.includes(\".\")?this.presentToast(\"Invalid username/email address\"):\"\"==this.password||this.password.length<6?this.presentToast(\"Password name field is either blank or too short\"):this.loadingController.create({message:\"Logging In\"}).then(l=>{l.present(),this.travelAppService.loginExistingUser(this.email,this.password).then(()=>{l.dismiss(),this.router.navigateByUrl(\"/tabs\")}).catch(n=>{this.presentToast(n),l.dismiss()})})}}class a{}var g=t(\"pMnS\"),c=t(\"oBZk\"),h=t(\"s7LF\"),p=t(\"iInd\"),b=t(\"SVse\"),d=t(\"xgBC\"),m=u.qb({encapsulation:0,styles:[[\".secondlayer[_ngcontent-%COMP%]{position:absolute;text-align:center;top:0;width:100%;height:100%}.tna[_ngcontent-%COMP%]{font-size:12px;opacity:.6;margin-bottom:20px}.each_item[_ngcontent-%COMP%]{margin-bottom:20px}\"]],data:{}});function f(l){return u.Kb(0,[(l()(),u.sb(0,0,null,null,89,\"ion-content\",[],null,null,null,c.Q,c.i)),u.rb(1,49152,null,0,i.x,[u.h,u.k,u.x],null,null),(l()(),u.sb(2,0,null,0,87,\"div\",[[\"style\",\"background-color: rgb(250, 250, 250);\"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,45,\"div\",[[\"style\",\"padding-left: 20px; padding-right: 20px; padding-top: 10px;\"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,\"p\",[[\"align\",\"center\"],[\"style\",\"margin-top: 18px;\"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,0,\"img\",[[\"src\",\"../../assets/icon/logo.png\"],[\"style\",\"zoom: 80%;\"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,1,\"p\",[[\"align\",\"center\"],[\"style\",\"color: #FE551D; font-size: 17px; font-weight: 600;\\tfont-family: barbararegular;\"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"#PROJECT81PH\"])),(l()(),u.sb(8,0,null,null,1,\"div\",[[\"style\",\"font-size: 14px; margin-top: 20px; font-family: montserat; font-weight: 600; opacity: 0.8;\"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\" Email/Username\"])),(l()(),u.sb(10,0,null,null,11,\"div\",[[\"style\",\"border-radius: 10px; margin-top: 5px; height: 45px; border: 1.5px solid #ffb152;\"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,10,\"div\",[[\"style\",\"height: 100%\"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,7,\"div\",[[\"style\",\"float: left; height: 100%; width: 77vw;\"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,6,\"ion-input\",[[\"style\",\"height: 100%; margin-left: 10px;\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(l,n,t){var e=!0,i=l.component;return\"ionBlur\"===n&&(e=!1!==u.Eb(l,14)._handleBlurEvent(t.target)&&e),\"ionChange\"===n&&(e=!1!==u.Eb(l,14)._handleInputEvent(t.target)&&e),\"ngModelChange\"===n&&(e=!1!==(i.email=t)&&e),e}),c.V,c.n)),u.rb(14,16384,null,0,i.Rb,[u.k],null,null),u.Gb(1024,null,h.d,(function(l){return[l]}),[i.Rb]),u.rb(16,671744,null,0,h.g,[[8,null],[8,null],[8,null],[6,h.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),u.Gb(2048,null,h.e,null,[h.g]),u.rb(18,16384,null,0,h.f,[[4,h.e]],null,null),u.rb(19,49152,null,0,i.J,[u.h,u.k,u.x],{type:[0,\"type\"]},null),(l()(),u.sb(20,0,null,null,1,\"div\",[[\"style\",\"float: left; height: 100%; width: 10vw;\"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,0,\"img\",[[\"height\",\"24px\"],[\"src\",\"../../assets/icon/User.png\"],[\"style\",\"margin: 10px;\"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,0,\"br\",[],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,1,\"div\",[[\"style\",\"font-size: 14px; font-family: montserat; font-weight: 600; opacity: 0.8;\"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Password\"])),(l()(),u.sb(25,0,null,null,11,\"div\",[[\"style\",\"border-radius: 10px;margin-top: 5px; height: 45px; border: 1.5px solid #ffb152;\"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,10,\"div\",[[\"style\",\"height: 100%\"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,7,\"div\",[[\"style\",\"float: left; height: 100%; width: 77vw;\"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,6,\"ion-input\",[[\"style\",\"height: 100%; margin-left: 10px;\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(l,n,t){var e=!0,i=l.component;return\"ionBlur\"===n&&(e=!1!==u.Eb(l,29)._handleBlurEvent(t.target)&&e),\"ionChange\"===n&&(e=!1!==u.Eb(l,29)._handleInputEvent(t.target)&&e),\"ngModelChange\"===n&&(e=!1!==(i.password=t)&&e),e}),c.V,c.n)),u.rb(29,16384,null,0,i.Rb,[u.k],null,null),u.Gb(1024,null,h.d,(function(l){return[l]}),[i.Rb]),u.rb(31,671744,null,0,h.g,[[8,null],[8,null],[8,null],[6,h.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),u.Gb(2048,null,h.e,null,[h.g]),u.rb(33,16384,null,0,h.f,[[4,h.e]],null,null),u.rb(34,49152,null,0,i.J,[u.h,u.k,u.x],{type:[0,\"type\"]},null),(l()(),u.sb(35,0,null,null,1,\"div\",[[\"style\",\"float: left; height: 100%; width: 10vw;\"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,0,\"img\",[[\"height\",\"26px\"],[\"src\",\"../../assets/icon/lock.png\"],[\"style\",\"margin: 10px;\"]],null,null,null,null,null)),(l()(),u.sb(37,0,null,null,4,\"div\",[[\"style\",\"width: 91vw; margin-top: 10px;\"]],null,null,null,null,null)),(l()(),u.sb(38,0,null,null,3,\"div\",[[\"routerDirection\",\"forward\"],[\"routerLink\",\"/forgot\"],[\"style\",\"float: right; font-size: 14px; opacity: 0.6; font-weight: 500;\"]],null,[[null,\"click\"]],(function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==u.Eb(l,39).onClick()&&e),\"click\"===n&&(e=!1!==u.Eb(l,40).onClick(t)&&e),e}),null,null)),u.rb(39,16384,null,0,p.o,[p.n,p.a,[8,null],u.B,u.k],{routerLink:[0,\"routerLink\"]},null),u.rb(40,737280,null,0,i.Pb,[b.g,i.Lb,u.k,p.n,[2,p.o]],{routerDirection:[0,\"routerDirection\"]},null),(l()(),u.Jb(-1,null,[\"Forgot Password?\"])),(l()(),u.sb(42,0,null,null,3,\"div\",[[\"style\",\"height: 45px;\\twidth: 90vw;\\tborder-radius: 24px; margin-top: 50px; background: #FF7C0B;\"]],null,[[null,\"click\"]],(function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.login()&&u),u}),null,null)),(l()(),u.sb(43,0,null,null,2,\"p\",[[\"align\",\"center\"],[\"style\",\"margin: 0px; font-size: 18px; color: white; font-weight: 600; padding-top: 10px; height: 100%;\"]],null,null,null,null,null)),(l()(),u.sb(44,0,null,null,1,\"span\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Login\"])),(l()(),u.sb(46,0,null,null,2,\"div\",[[\"style\",\"width: 90vw;\"]],null,null,null,null,null)),(l()(),u.sb(47,0,null,null,1,\"p\",[[\"align\",\"center\"],[\"style\",\"margin-top: 20px; opacity: 0.6;\"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"-------- OR LOGIN WITH --------\"])),(l()(),u.sb(49,0,null,null,40,\"div\",[],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,33,\"div\",[[\"style\",\"margin-top: 10px; width: 100vw;\"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,10,\"div\",[[\"style\",\"margin-top: 5px; margin-left: 5vw; height: 40px;\\twidth: 90vw; background-color: #2A5CA7;\\tborder-radius: 24px;\"]],null,[[null,\"click\"]],(function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.fbLogin()&&u),u}),null,null)),(l()(),u.sb(52,0,null,null,9,\"ion-row\",[[\"style\",\"justify-content: center;\"]],null,null,null,c.gb,c.y)),u.rb(53,49152,null,0,i.mb,[u.h,u.k,u.x],null,null),(l()(),u.sb(54,0,null,0,1,\"ion-col\",[[\"size\",\"2\"]],null,null,null,c.P,c.h)),u.rb(55,49152,null,0,i.w,[u.h,u.k,u.x],{size:[0,\"size\"]},null),(l()(),u.sb(56,0,null,0,2,\"ion-col\",[[\"size\",\"1.5\"]],null,null,null,c.P,c.h)),u.rb(57,49152,null,0,i.w,[u.h,u.k,u.x],{size:[0,\"size\"]},null),(l()(),u.sb(58,0,null,0,0,\"img\",[[\"height\",\"20px\"],[\"src\",\"../../assets/icon/facebook-logo.png\"],[\"style\",\"margin-top: 4px;\"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,0,2,\"ion-col\",[[\"col\",\"5\"],[\"style\",\"margin-top: 4px; float: left; color: white; font-size: 17px; font-weight: 500;\"]],null,null,null,c.P,c.h)),u.rb(60,49152,null,0,i.w,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,[\" Sign in with Facebook \"])),(l()(),u.sb(62,0,null,null,10,\"div\",[[\"style\",\"margin-top: 5px; margin-left: 5vw; height: 40px; width: 90vw; background:\\n              linear-gradient(144.48deg, #DB4437 0%, #FF0031 100%); border-radius: 24px;\"]],null,[[null,\"click\"]],(function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.googleLogin()&&u),u}),null,null)),(l()(),u.sb(63,0,null,null,9,\"ion-row\",[[\"style\",\"justify-content: center;\"]],null,null,null,c.gb,c.y)),u.rb(64,49152,null,0,i.mb,[u.h,u.k,u.x],null,null),(l()(),u.sb(65,0,null,0,1,\"ion-col\",[[\"size\",\"2.5\"]],null,null,null,c.P,c.h)),u.rb(66,49152,null,0,i.w,[u.h,u.k,u.x],{size:[0,\"size\"]},null),(l()(),u.sb(67,0,null,0,2,\"ion-col\",[[\"size\",\"1.5\"]],null,null,null,c.P,c.h)),u.rb(68,49152,null,0,i.w,[u.h,u.k,u.x],{size:[0,\"size\"]},null),(l()(),u.sb(69,0,null,0,0,\"img\",[[\"height\",\"20px\"],[\"src\",\"../../assets/icon/google-plus-logo.png\"],[\"style\",\"margin-top: 4px;\"]],null,null,null,null,null)),(l()(),u.sb(70,0,null,0,2,\"ion-col\",[[\"col\",\"5\"],[\"style\",\"margin-top: 4px; float: left; color: white; font-size: 17px; font-weight: 500;\"]],null,null,null,c.P,c.h)),u.rb(71,49152,null,0,i.w,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,[\" Sign in with Google \"])),(l()(),u.sb(73,0,null,null,10,\"div\",[[\"style\",\"margin-top: 5px; margin-left: 5vw; height: 40px;\\twidth: 90vw; background-color: #000000;\\tborder-radius: 24px;\"]],null,[[null,\"click\"]],(function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.appleLogin()&&u),u}),null,null)),(l()(),u.sb(74,0,null,null,9,\"ion-row\",[[\"style\",\"justify-content: center;\"]],null,null,null,c.gb,c.y)),u.rb(75,49152,null,0,i.mb,[u.h,u.k,u.x],null,null),(l()(),u.sb(76,0,null,0,1,\"ion-col\",[[\"size\",\"2.7\"]],null,null,null,c.P,c.h)),u.rb(77,49152,null,0,i.w,[u.h,u.k,u.x],{size:[0,\"size\"]},null),(l()(),u.sb(78,0,null,0,2,\"ion-col\",[[\"size\",\"1.5\"]],null,null,null,c.P,c.h)),u.rb(79,49152,null,0,i.w,[u.h,u.k,u.x],{size:[0,\"size\"]},null),(l()(),u.sb(80,0,null,0,0,\"img\",[[\"height\",\"20px\"],[\"src\",\"../../assets/icon/apple-logo.png\"],[\"style\",\"margin-top: 4px;\"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,0,2,\"ion-col\",[[\"col\",\"5\"],[\"style\",\"margin-top: 4px; float: left; color: white; font-size: 17px; font-weight: 500;\"]],null,null,null,c.P,c.h)),u.rb(82,49152,null,0,i.w,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,[\" Sign in with Apple \"])),(l()(),u.sb(84,0,null,null,5,\"p\",[[\"align\",\"center\"],[\"class\",\"tna\"],[\"routerDirection\",\"forward\"],[\"routerLink\",\"/register\"],[\"style\",\"margin-top: 20px\"]],null,[[null,\"click\"]],(function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==u.Eb(l,85).onClick()&&e),\"click\"===n&&(e=!1!==u.Eb(l,86).onClick(t)&&e),e}),null,null)),u.rb(85,16384,null,0,p.o,[p.n,p.a,[8,null],u.B,u.k],{routerLink:[0,\"routerLink\"]},null),u.rb(86,737280,null,0,i.Pb,[b.g,i.Lb,u.k,p.n,[2,p.o]],{routerDirection:[0,\"routerDirection\"]},null),(l()(),u.Jb(-1,null,[\"Dont have an account?\"])),(l()(),u.sb(88,0,null,null,1,\"b\",[[\"style\",\"font-size: 15px; color: #FF6800; margin-left: 5px\"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Register Now\"]))],(function(l,n){var t=n.component;l(n,16,0,t.email),l(n,19,0,\"text\"),l(n,31,0,t.password),l(n,34,0,\"password\"),l(n,39,0,\"/forgot\"),l(n,40,0,\"forward\"),l(n,55,0,\"2\"),l(n,57,0,\"1.5\"),l(n,66,0,\"2.5\"),l(n,68,0,\"1.5\"),l(n,77,0,\"2.7\"),l(n,79,0,\"1.5\"),l(n,85,0,\"/register\"),l(n,86,0,\"forward\")}),(function(l,n){l(n,13,0,u.Eb(n,18).ngClassUntouched,u.Eb(n,18).ngClassTouched,u.Eb(n,18).ngClassPristine,u.Eb(n,18).ngClassDirty,u.Eb(n,18).ngClassValid,u.Eb(n,18).ngClassInvalid,u.Eb(n,18).ngClassPending),l(n,28,0,u.Eb(n,33).ngClassUntouched,u.Eb(n,33).ngClassTouched,u.Eb(n,33).ngClassPristine,u.Eb(n,33).ngClassDirty,u.Eb(n,33).ngClassValid,u.Eb(n,33).ngClassInvalid,u.Eb(n,33).ngClassPending)}))}function v(l){return u.Kb(0,[(l()(),u.sb(0,0,null,null,1,\"app-login\",[],null,null,null,f,m)),u.rb(1,114688,null,0,r,[p.n,i.g,s.a,i.Sb,i.Jb,d.b],null,null)],(function(l,n){l(n,1,0)}),null)}var x=u.ob(\"app-login\",r,v,{},{},[]);t.d(n,\"LoginPageModuleNgFactory\",(function(){return w}));var w=u.pb(a,[],(function(l){return u.Bb([u.Cb(512,u.j,u.ab,[[8,[g.a,x]],[3,u.j],u.v]),u.Cb(4608,b.l,b.k,[u.s,[2,b.t]]),u.Cb(4608,h.i,h.i,[]),u.Cb(4608,i.c,i.c,[u.x,u.g]),u.Cb(4608,i.Kb,i.Kb,[i.c,u.j,u.p]),u.Cb(4608,i.Ob,i.Ob,[i.c,u.j,u.p]),u.Cb(1073742336,b.b,b.b,[]),u.Cb(1073742336,h.h,h.h,[]),u.Cb(1073742336,h.c,h.c,[]),u.Cb(1073742336,i.Hb,i.Hb,[]),u.Cb(1073742336,p.p,p.p,[[2,p.u],[2,p.n]]),u.Cb(1073742336,a,a,[]),u.Cb(1024,p.l,(function(){return[[{path:\"\",component:r}]]}),[])])}))}}]);","extractedComments":[]}