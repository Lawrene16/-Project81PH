(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{bj1x:function(l,n,t){"use strict";t.r(n);var i=t("8Y7J"),e=t("mrSG"),u=t("CjQN"),r=t("ZZ/e"),s=t("AFX/");class o{constructor(l,n,t,i,e,u,r,s){this.route=l,this.actionSheetCtrl=n,this.router=t,this.toastCtrl=i,this.modalController=e,this.loadingCtrl=u,this.travelAppService=r,this.socialSharing=s,this.provincesVisited="",this.visitedProvincesArray=[]}presentActionSheet(){return e.a(this,void 0,void 0,(function*(){const l=yield this.actionSheetCtrl.create({header:"Options",buttons:[{text:"Edit Trip",icon:"create",handler:()=>{this.editTrip()}},{text:"Delete Trip",icon:"trash",handler:()=>{this.deleteTrip()}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{}}]});yield l.present()}))}editTrip(){this.router.navigate(["edittrip"],{state:{trip:this.data}})}deleteTrip(){this.loadingCtrl.create({message:"Please wait"}).then(l=>{this.deleteProvince(this.data.province),l.present(),this.travelAppService.deleteTrip(this.data.tripuid).then(()=>{this.updateVisitedProvinces(),l.dismiss(),this.router.navigateByUrl("/tabs/profile")}).catch(n=>{l.dismiss(),this.presentToast(n)})})}updateVisitedProvinces(){this.visitedProvincesArray!=[]&&this.travelAppService.updateVisitedProvinces(this.provincesVisited,this.visitedProvincesArray).then(()=>{console.log("Provinces updated")}).catch(l=>{console.log(l)})}deleteProvince(l){for(var n=0;n<this.visitedProvincesArray.length;n++)this.visitedProvincesArray[n]==l&&this.visitedProvincesArray.splice(n,1)}ngOnInit(){this.route.queryParams.subscribe(l=>{this.router.getCurrentNavigation().extras.state&&(this.data=this.router.getCurrentNavigation().extras.state.trip)}),this.travelAppService.fetchVisitedProvicesArray().then(l=>{this.visitedProvincesArray=l,this.provincesVisited=""+this.visitedProvincesArray.length})}openModal(){this.router.navigate(["imagedetails"],{state:{title:this.data.eventTitle,image:this.data.photo}})}shareTrip(){var l=this.compilemsg();this.socialSharing.shareViaFacebook(l,null,null)}compilemsg(){return"Join me in my #Project81PH goal \n \n"+this.data.photo}presentToast(l){return e.a(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:l,duration:6e3,color:"dark"})).present()}))}}class a{}var c=t("pMnS"),p=t("oBZk"),d=t("iInd"),h=i.qb({encapsulation:0,styles:[[""]],data:{}});function b(l){return i.Kb(0,[(l()(),i.sb(0,0,null,null,17,"ion-header",[],null,null,null,p.T,p.l)),i.rb(1,49152,null,0,r.E,[i.h,i.k,i.x],null,null),(l()(),i.sb(2,0,null,0,15,"ion-toolbar",[],null,null,null,p.pb,p.H)),i.rb(3,49152,null,0,r.Fb,[i.h,i.k,i.x],null,null),(l()(),i.sb(4,0,null,0,4,"ion-buttons",[["slot","start"],["style","margin-left: 5px"]],null,null,null,p.L,p.d)),i.rb(5,49152,null,0,r.o,[i.h,i.k,i.x],null,null),(l()(),i.sb(6,0,null,0,2,"ion-back-button",[["color","primary"],["defaultHref","/profile"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==i.Eb(l,8).onClick(t)&&e),e}),p.J,p.b)),i.rb(7,49152,null,0,r.j,[i.h,i.k,i.x],{color:[0,"color"],defaultHref:[1,"defaultHref"]},null),i.rb(8,16384,null,0,r.k,[[2,r.lb],r.Lb],{defaultHref:[0,"defaultHref"]},null),(l()(),i.sb(9,0,null,0,2,"ion-title",[],null,null,null,p.ob,p.G)),i.rb(10,49152,null,0,r.Db,[i.h,i.k,i.x],null,null),(l()(),i.Jb(-1,0,[" View Trip "])),(l()(),i.sb(12,0,null,0,5,"ion-buttons",[["slot","end"],["style","margin-left: 5px"]],null,null,null,p.L,p.d)),i.rb(13,49152,null,0,r.o,[i.h,i.k,i.x],null,null),(l()(),i.sb(14,0,null,0,3,"ion-button",[["color","primary"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.presentActionSheet()&&i),i}),p.K,p.c)),i.rb(15,49152,null,0,r.n,[i.h,i.k,i.x],{color:[0,"color"]},null),(l()(),i.sb(16,0,null,0,1,"ion-icon",[["color","primary"],["name","options"]],null,null,null,p.U,p.m)),i.rb(17,49152,null,0,r.F,[i.h,i.k,i.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),i.sb(18,0,null,null,20,"ion-content",[],null,null,null,p.Q,p.i)),i.rb(19,49152,null,0,r.x,[i.h,i.k,i.x],null,null),(l()(),i.sb(20,0,null,0,1,"div",[["style","height: 300px; width: 100vw;"]],null,null,null,null,null)),(l()(),i.sb(21,0,null,null,0,"img",[["height","100%"],["style","object-fit: cover;"],["width","100%"]],[[8,"src",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.openModal()&&i),i}),null,null)),(l()(),i.sb(22,0,null,0,1,"div",[["style","margin-top: 20px; margin-left: 20px; font-weight: 500; font-size: 20px;"]],null,null,null,null,null)),(l()(),i.Jb(23,null,["",""])),(l()(),i.sb(24,0,null,0,4,"div",[["style","width: 100%; margin-left: 20px; margin-top: 10px;"]],null,null,null,null,null)),(l()(),i.sb(25,0,null,null,1,"div",[["style","width: 25px; float: left;"]],null,null,null,null,null)),(l()(),i.sb(26,0,null,null,0,"img",[["height","25px"],["src","../../assets/icon/pin.png"],["style","width: 30px;"]],null,null,null,null,null)),(l()(),i.sb(27,0,null,null,1,"div",[["style","float: left; padding-left: 5px; font-size: 15px; margin-top: 2px;"]],null,null,null,null,null)),(l()(),i.Jb(28,null,[" ",", "," "])),(l()(),i.sb(29,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),i.sb(30,0,null,0,4,"div",[["style","width: 100%; margin-left: 20px; margin-top: 15px;"]],null,null,null,null,null)),(l()(),i.sb(31,0,null,null,1,"div",[["style","width: 25px; float: left;"]],null,null,null,null,null)),(l()(),i.sb(32,0,null,null,0,"img",[["height","18px"],["src","../../assets/icon/appointment-2.png"],["style","width: 20px;"]],null,null,null,null,null)),(l()(),i.sb(33,0,null,null,1,"div",[["style","float: left; padding-left: 5px; font-size: 14px; margin-top: 2px;"]],null,null,null,null,null)),(l()(),i.Jb(34,null,[" "," - "," "])),(l()(),i.sb(35,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),i.sb(36,0,null,0,1,"div",[["style","margin-left: 20px; font-size: 14px; margin-top: 25px;"]],null,null,null,null,null)),(l()(),i.Jb(37,null,["",""])),(l()(),i.sb(38,0,null,0,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,7,0,"primary","/profile"),l(n,8,0,"/profile"),l(n,15,0,"primary"),l(n,17,0,"primary","options")}),(function(l,n){var t=n.component;l(n,21,0,i.wb(1,"",t.data.photo,"")),l(n,23,0,t.data.eventTitle),l(n,28,0,t.data.city,t.data.province),l(n,34,0,t.data.fromDate2,t.data.toDate2),l(n,37,0,t.data.aboutTrip)}))}function v(l){return i.Kb(0,[(l()(),i.sb(0,0,null,null,1,"app-tripdetails",[],null,null,null,b,h)),i.rb(1,114688,null,0,o,[d.a,r.a,d.n,r.Sb,r.Kb,r.Jb,s.a,u.a],null,null)],(function(l,n){l(n,1,0)}),null)}var f=i.ob("app-tripdetails",o,v,{},{},[]),g=t("SVse"),m=t("s7LF");t.d(n,"TripdetailsPageModuleNgFactory",(function(){return x}));var x=i.pb(a,[],(function(l){return i.Bb([i.Cb(512,i.j,i.ab,[[8,[c.a,f]],[3,i.j],i.v]),i.Cb(4608,g.l,g.k,[i.s,[2,g.t]]),i.Cb(4608,m.i,m.i,[]),i.Cb(4608,r.c,r.c,[i.x,i.g]),i.Cb(4608,r.Kb,r.Kb,[r.c,i.j,i.p]),i.Cb(4608,r.Ob,r.Ob,[r.c,i.j,i.p]),i.Cb(1073742336,g.b,g.b,[]),i.Cb(1073742336,m.h,m.h,[]),i.Cb(1073742336,m.c,m.c,[]),i.Cb(1073742336,r.Hb,r.Hb,[]),i.Cb(1073742336,d.p,d.p,[[2,d.u],[2,d.n]]),i.Cb(1073742336,a,a,[]),i.Cb(1024,d.l,(function(){return[[{path:"",component:o}]]}),[])])}))}}]);